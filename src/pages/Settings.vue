<template>
  <q-page class="bg-secondary items-center">
    <SettingsTable/>
  </q-page>
</template>

<script>
import SettingsTable from 'components/SettingsTable.vue'

export default {
  preFetch ({ store, redirect }) {
    if (store.state.gestinson.user.name) { // Si estamos logueados podemos acceder
      if (store.state.gestinson.segment_times === null) { // Si los tiempos no est√°n cargados en memoria, los cargamos.
        return store.dispatch('gestinson/getSegmentTimes')
      }
    } else { // Si no lo estamos, al login
      redirect({ path: '/' })
    }
  },
  name: 'Settings',
  components: { SettingsTable }
}
</script>
